# @Author: Haupt Joshua <HauptJ>
# @Date:   31-Mar-2018
# @Email:  josh@hauptj.com
# @Filename: main.yml
# @Last modified by:   HauptJ
# @Last modified time: 01-Apr-2018

---
  # Install Ansible

- name: Install the latest version of Ansible, GIT, and python-pip
  yum:
    name: "{{ item }}"
    state: latest
  with_items:
    - git
    - python2
    - python
    - python-pip
    - ansible

# - name: install pywinrm and ansible container
#   pip:
#     name: "{{ item }}"
#     extra_args: -H
#   become: yes
#   with_items:
#     - pywinrm
#     - ansible-container[docker,k8s]

- name: install pywinrm
  shell: pip3 install pywinrm

- name: install pywinrm
  shell: pip3 install ansible-container[docker,k8s]
